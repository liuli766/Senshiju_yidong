(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fecf5e4a"],{"04b3":function(t,e){t.exports="data:image/png;base64,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"},"2e1b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"productdetail"},[n("van-swipe",{on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[n("div",{staticClass:"custom-indicator text_cen"},[t._v(t._s(t.current+1)+"/"+t._s(t.len))])]},proxy:!0}])},t._l(t.ProDetail.photos,(function(t,e){return n("van-swipe-item",{key:e},[n("img",{attrs:{src:t,alt:""}})])})),1),n("div",{staticClass:"price flex_be"},[n("div",[n("span",{staticStyle:{"font-size":"0.28rem","letter-spacing":"3px",color:"#707070"}},[t._v(t._s(1==t.ProDetail.status?"":"全款预售")+" ")]),n("span",{staticStyle:{"font-size":"0.48rem","letter-spacing":"2px",color:"#fe5303"}},[t._v("¥"+t._s(t.ProDetail.price))]),n("div",{staticStyle:{"font-size":"0.28rem","letter-spacing":"1px",color:"#fe5303","line-height":"0"}},[t._v(" "+t._s(1==t.ProDetail.status?"":"付款后"+t.ProDetail.deliver+"天发货")+" ")])]),0==t.ProDetail.is_collect?n("span",{staticClass:"flex_cen flex_col",on:{click:function(e){return t.onClickIcon(t.ProDetail.id)}}},[n("img",{staticStyle:{width:"0.45rem",height:"0.45rem"},attrs:{src:i("9044"),alt:""}}),n("span",{staticStyle:{"font-size":"0.19rem",color:"#4f4f4f","line-height":"1","margin-top":"0.1rem"}},[t._v("收藏")])]):t._e(),1==t.ProDetail.is_collect?n("span",{staticClass:"flex_cen flex_col",on:{click:function(e){return t.qxcollect(t.ProDetail.id)}}},[n("img",{staticStyle:{width:"0.45rem",height:"0.45rem"},attrs:{src:i("9e8b"),alt:""}}),n("span",{staticStyle:{"font-size":"0.19rem",color:"#4f4f4f","line-height":"1"}},[t._v("已收藏")])]):t._e()]),n("div",{staticClass:"sharebox"},[n("p",{staticClass:"title"},[t._v(t._s(t.ProDetail.title))])]),n("div",{staticClass:"flex_be goods"},[t._m(0),n("div",[t._v(" 月销："),n("span",{staticStyle:{color:"#1d1d1d"}},[t._v(t._s(t.ProDetail.month_sale))])])]),n("div",{staticClass:"views flex_be"},[n("div",t._l(t.ProDetail.user_imgs,(function(t,e){return n("img",{key:e,attrs:{src:t,alt:""}})})),0),n("div",{staticStyle:{color:"#707070",display:"flex","align-items":"center"}},[n("van-icon",{staticStyle:{"font-size":"0.3rem","margin-right":"0.1rem"},attrs:{name:"eye-o"}}),n("span",[t._v(t._s(t.ProDetail.moods)+"人在逛")])],1)]),n("div",{staticClass:"serves flex_be",on:{click:t.showPopup}},[t._m(1),n("van-icon",{staticStyle:{"font-size":"0.36rem"},attrs:{name:"arrow"}})],1),n("van-popup",{style:{height:"68%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"pop"},[n("div",{staticClass:"basics text_cen"},[t._v("基础服务")]),n("van-checkbox-group",{ref:"checkboxGroup",attrs:{disabled:""},on:{change:t.handchange},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},[n("van-checkbox",{staticClass:"span1",attrs:{name:"a","icon-size":"0.3rem","checked-color":"#000"}},[n("span",[t._v("付款后48小时内发货")])]),n("van-checkbox",{staticClass:"span2",attrs:{name:"b","icon-size":"0.3rem","checked-color":"#000"}},[n("span",[t._v("不支持7天无理由")])]),n("div",{staticClass:"yell"},[t._v("此商品为定制，不支持7天无理由退货")]),n("div",{staticClass:"other text_cen"},[t._v("其他")]),n("van-checkbox",{staticClass:"span3",attrs:{name:"c","icon-size":"0.3rem","checked-color":"#000"}},[n("span",[t._v("信用卡支付")])]),n("van-checkbox",{staticClass:"span4",attrs:{name:"d","icon-size":"0.3rem","checked-color":"#000"}},[n("span",[t._v("支付宝支付")])])],1)],1),n("div",{staticClass:"btn text_cen",on:{click:t.closepanl}},[t._v("完成")])]),n("div",{staticClass:"introduce"},[n("span",[t._v("图纸介绍")]),n("p",[t._v(t._s(t.ProDetail.intro))])]),n("div",{staticClass:"prolist",domProps:{innerHTML:t._s(t.ProDetail.imgs)}}),n("div",{staticClass:"fixed"},[n("van-goods-action",[n("van-goods-action-icon",{staticClass:"size",attrs:{icon:"shop",text:"店铺",color:"#676767"},on:{click:t.goIndex}}),n("van-goods-action-icon",{staticClass:"size",attrs:{icon:"service",text:"客服",color:"#676767"},on:{click:t.KeFu}}),1==t.ProDetail.is_collect?n("van-goods-action-icon",{staticClass:"size",attrs:{icon:"like",text:t.text,color:"#676767"},on:{click:function(e){return t.qxcollect(t.ProDetail.id)}}}):t._e(),0==t.ProDetail.is_collect?n("van-goods-action-icon",{staticClass:"size",attrs:{icon:"like-o",text:t.text,color:"#676767"},on:{click:function(e){return t.onClickIcon(t.ProDetail.id)}}}):t._e(),n("van-goods-action-button",{staticClass:"size",attrs:{type:"warning",text:"加入购物车"},on:{click:t.gocard}}),n("van-goods-action-button",{staticClass:"size danger",attrs:{text:"立即购买"},on:{click:function(e){return t.gosurepay(t.ProDetail.id)}}})],1)],1),n("div",[n("van-popup",{staticStyle:{"border-radius":"0.3rem 0.3rem 0px 0px"},style:{height:"60%"},attrs:{position:"bottom"},model:{value:t.showpop,callback:function(e){t.showpop=e},expression:"showpop"}},[n("img",{staticStyle:{position:"absolute",top:"0.22rem",right:"0.23rem"},attrs:{src:i("04b3"),alt:""},on:{click:t.Close}}),n("div",{staticClass:"cartfff"},[n("div",{staticClass:"cartbox"},[n("div",{staticClass:"cartlist flex"},[n("img",{attrs:{src:t.ProDetail.cover,alt:""}}),n("div",{staticClass:"red"},[t._v("￥"+t._s(t.PriceNum))])]),n("div",{staticClass:"flex_be stepper"},[n("span",{staticClass:"num"},[t._v("数量")]),n("div",{staticClass:"flex"},[n("span",{class:[1==t.cunt?"disabled":"squer"],on:{click:function(e){return t.reducecart(t.ProDetail)}}},[t._v("-")]),n("span",{staticClass:"squer squer1",staticStyle:{"font-size":"0.2rem"}},[t._v(t._s(t.cunt))]),n("span",{staticClass:"squer",on:{click:function(e){return t.addcart(t.ProDetail)}}},[t._v("+")])])])]),n("button",{on:{click:function(e){return t.goJoinCart(t.ProDetail.id)}}},[t._v("加入购物车")])])])],1)],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" 发货： "),i("span",[t._v("四川成都")]),t._v(" | 快递： "),i("span",[t._v("免运费")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",[t._v("服务")]),i("span",[t._v("付款后48小时内发货")])])}],s=(i("d3b7"),i("5530")),a=i("2f62"),c=i("2ade"),l=i("d399"),r=i("1246"),u=i("b311"),h=i.n(u),d={data:function(){return{current:0,show:!1,result:["a","b","c","d"],text:"收藏",icon:"like-o",showpop:!1,ProDetail:[],cunt:1,cartinfoList:[],len:"",showShare:!1,copylink:""}},computed:Object(s["a"])(Object(s["a"])({},Object(a["b"])({token:function(t){return t.token},userInfor:function(t){return t.userInfor}})),{},{PriceNum:function(){var t=0;return 1==this.cunt&&(t=this.ProDetail.price),2==this.cunt&&(t=this.ProDetail.two_price),3==this.cunt&&(t=this.ProDetail.three_price),t}}),created:function(){this.handdetail(),this.copylink="http://villa.jisapp.cn/shenshiju/#/"+this.$route.fullPath,console.log(this.$route.fullPath)},methods:{getDK:function(){var t=this;c["a"].getShare({url:this.$route.fullPath}).then((function(e){if(console.log(e,"分享"),0==e.code){var i=e.data.appId,n=e.data.nonceStr,o=e.data.signature,s=e.data.timestamp;r["a"].config({debug:!1,appId:i,timestamp:s,nonceStr:n,signature:o,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),r["a"].ready((function(){var e=t,i={title:e.ProDetail.title,desc:e.ProDetail.title,link:location.href,imgUrl:e.ProDetail.cover,success:function(){console.log(1)},cancel:function(){console.log(2)}};console.log(window.wechatImg),r["a"].updateTimelineShareData(i),r["a"].updateAppMessageShareData(i)}))}})).catch((function(){})).finally((function(){}))},copy:function(t,e){var i=this,n=new h.a(t.target,{text:function(){return e}});n.on("success",(function(){i.$toast("复制成功"),n.destroy()})),n.on("error",(function(){i.$toast("复制失败"),n.destroy()}))},share:function(){this.showShare=!0},goIndex:function(){this.$router.push({path:"/"})},gosurepay:function(t){if(!this.token)return this.$router.push({path:"/login"}),!1;this.$router.push({path:"/surepayblue",query:{bid:t}})},onChange:function(t){this.current=t},showPopup:function(){this.show=!0,console.log(this.result)},closepanl:function(){this.show=!1},Close:function(){this.showpop=!1},handchange:function(t){console.log(t)},gocard:function(){this.showpop=!0},handdetail:function(){var t=this;this.token?c["a"].getProDetail({uid:this.userInfor.member_id,id:this.$route.query.id}).then((function(e){console.log(e,"图纸详情"),t.ProDetail=e.data,t.len=e.data.photos.length,console.log(t.len)})).catch((function(){})).finally((function(){})):c["a"].getProDetail({id:this.$route.query.id}).then((function(e){console.log(e,"图纸详情"),t.ProDetail=e.data,t.len=e.data.photos.length,console.log(t.len)})).catch((function(){})).finally((function(){}))},onClickIcon:function(t){var e=this;if(!this.token)return this.$router.push({path:"/register"}),!1;c["a"].getCollect({uid:this.userInfor.member_id,type:1,object:t}).then((function(t){console.log(t),e.handdetail(),e.$toast("收藏成功"),e.text="已收藏",e.icon="like"})).catch((function(t){console.log(t),e.$toast("收藏失败")})).finally((function(){}))},qxcollect:function(t){var e=this;c["a"].getCancelcollect({uid:this.userInfor.member_id,c_id:t,type:1}).then((function(t){e.handdetail(),e.text="收藏",e.icon="like-o",console.log(t,"取消收藏"),e.$toast("取消成功")})).catch((function(){e.$toast("取消失败")})).finally((function(){}))},goJoinCart:function(t){if(!this.token)return this.$router.push({path:"/register"}),!1;c["a"].getJoinCart({uid:this.userInfor.member_id,b_id:t,num:this.cunt}).then((function(t){console.log(t,"加入购物车"),l["a"].success("添加成功")})).catch((function(){l["a"].fail("添加失败")})).finally((function(){}))},reducecart:function(t){if(console.log(t),1==this.cunt)return!1;this.cunt--,c["a"].getEditCart({id:t.id,num:this.cunt}).then((function(t){console.log(t,"购物车数量加")})).catch((function(){l["a"].fail("添加失败")})).finally((function(){}))},addcart:function(t){console.log(t),this.cunt<3?(this.cunt++,c["a"].getEditCart({id:t.id,num:this.cunt}).then((function(t){console.log(t,"购物车数量减")})).catch((function(){l["a"].fail("添加失败")})).finally((function(){}))):this.$toast("不可以加了噢")},KeFu:function(){this.$toast("暂未开通")}}},f=d,p=(i("7677"),i("49f6"),i("2877")),g=Object(p["a"])(f,n,o,!1,null,"1bcabb9e",null);e["default"]=g.exports},"49f6":function(t,e,i){"use strict";var n=i("5958"),o=i.n(n);o.a},5958:function(t,e,i){},7677:function(t,e,i){"use strict";var n=i("f437"),o=i.n(n);o.a},f437:function(t,e,i){}}]);