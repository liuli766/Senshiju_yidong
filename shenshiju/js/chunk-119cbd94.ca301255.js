(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-119cbd94"],{"0150":function(t,e,i){"use strict";var a=i("c2c6"),s=i.n(a);s.a},"1fbc":function(t,e,i){"use strict";var a=i("a7bf"),s=i.n(a);s.a},a7bf:function(t,e,i){},c2c6:function(t,e,i){},eee5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"drawingorder"},[i("div",{staticClass:"nav_bar flex"},[i("van-icon",{attrs:{name:"arrow-left"},on:{click:t.go}}),i("span",[t._v("图纸订单")])],1),i("van-search",{attrs:{placeholder:"请输入订单号或商品名称"},on:{change:t.handserch},model:{value:t.seachdata,callback:function(e){t.seachdata=e},expression:"seachdata"}}),i("nav",t._l(t.navlist,(function(e,a){return i("span",{key:a,class:{activ_chose:t.navactivechoseid==a},on:{click:function(e){return t.swichChose(a)}}},[t._v(t._s(e))])})),0),0==t.navactivechoseid||0==t.navid?i("orderlist",{attrs:{orderli:t.orderlist,navid:0}}):t._e(),1==t.navactivechoseid||1==t.navid?i("orderlist",{attrs:{orderli:t.orderlist1,navid:1}}):t._e(),2==t.navactivechoseid||2==t.navid?i("orderlist",{attrs:{orderli:t.orderlist2,navid:2}}):t._e(),i("scroll",{attrs:{onBottom:t.onBottom}})],1)},s=[],r=(i("99af"),i("4de4"),i("d3b7"),i("2909")),n=i("5530"),o=i("2f62"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderlist"},[0!==t.orderli.length?i("main",t._l(t.orderli,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.godetail(e,t.navid)}}},[i("div",{staticClass:"tagname flex_be"},[i("span",[t._v(t._s(e.add_time))]),i("span",{directives:[{name:"show",rawName:"v-show",value:0==t.navactivechoseid,expression:"navactivechoseid == 0"}],staticStyle:{color:"#fd3723"}},[t._v("待付款")]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.navactivechoseid,expression:"navactivechoseid == 1"}],staticStyle:{color:"#fd3723"}},[t._v("待发货")]),i("span",{directives:[{name:"show",rawName:"v-show",value:2==t.navactivechoseid,expression:"navactivechoseid == 2"}],staticStyle:{color:"#fd3723"}},[t._v("待收货")])]),i("div",{staticClass:"flex"},[i("img",{attrs:{src:e.cover,alt:""}}),i("div",{staticClass:"right"},[i("p",[t._v(t._s(e.title))]),i("div",{staticClass:"text_r"},[i("van-icon",{attrs:{name:"cross"}}),i("span",[t._v(t._s(e.num))])],1),i("div",[t._v(t._s(e.price))])])]),0==t.navactivechoseid?i("div",{staticClass:"text_r price_pay"},[t._v(" 共"+t._s(e.num)+"件 待付款:¥"+t._s(e.price)+" ")]):1==t.navactivechoseid?i("div",{staticClass:"text_r price_pay"},[t._v(" 共"+t._s(e.num)+"件 待发货:¥"+t._s(e.price)+" ")]):2==t.navactivechoseid?i("div",{staticClass:"text_r price_pay"},[t._v(" 共"+t._s(e.num)+"件 待收货:¥"+t._s(e.price)+" ")]):t._e(),0==t.navactivechoseid?i("div",{staticClass:"bor_red"},[i("span",{staticClass:"text_cen",on:{click:function(i){return i.stopPropagation(),t.canelOrder(e)}}},[t._v("取消订单")]),i("span",{staticClass:"text_cen",on:{click:t.gopay}},[t._v("立即支付")])]):t._e(),1==t.navactivechoseid?i("div",{staticClass:"bor_red"}):t._e(),2==t.navactivechoseid?i("div",{staticClass:"bor_red"},[i("span",{staticClass:"text_cen",on:{click:t.goLogistics}},[t._v("查看物流")])]):t._e()])})),0):i("main",{staticClass:"nodata"},[t._v("暂无数据")])])},d=[],l=(i("a9e3"),i("2ade")),u=i("d399"),v={computed:Object(o["b"])({navactivechoseid:function(t){return t.navactivechoseid},token:function(t){return t.token},userInfor:function(t){return t.userInfor},canelOrderItem:function(t){return t.canelOrderItem}}),props:{orderli:{type:Array,default:function(){return[]}},navid:{type:Number,default:0}},data:function(){return{}},watch:{},created:function(){console.log(this.orderli)},methods:{canelOrder:function(t){var e=this;console.log(t),l["a"].getCancelOrder({oid:t.id}).then((function(t){console.log(t),e.$parent.myorder(),u["a"].success("取消成功")})).catch((function(){u["a"].fail("取消失败")})).finally((function(){}))},godetail:function(t,e){console.log(e),0===e?this.$router.push({path:"/orderpay",query:{oid:t.id}}):1===e?this.$router.push({path:"/productDetail",query:{id:t.b_id}}):2===e&&(console.log(t,"物流信息"),this.$router.push({path:"/logisticsInfo",query:{ordernum:t.order_num,kuaidi:t.logistics_code}}))},goLogistics:function(){this.$router.push({path:"/logisticsInfo"})},gopay:function(){this.$router.push({path:"/logisticsInfo"})}}},h=v,f=(i("1fbc"),i("2877")),p=Object(f["a"])(h,c,d,!1,null,"8cae0daa",null),_=p.exports,m=i("a433"),g={computed:Object(n["a"])({},Object(o["b"])({token:function(t){return t.token},userInfor:function(t){return t.userInfor}})),components:{orderlist:_,scroll:m["a"]},data:function(){return{seachdata:"",navlist:["待付款","待发货","待收货"],navid:0,navactivechoseid:0,orderlist:[],orderlist1:[],orderlist2:[],page:1}},watch:{orderlist2:function(){this.swichChose(this.navactivechoseid)},seachdata:function(){this.handserch()}},created:function(){this.navactivechoseid=this.$route.query.navactivechoseid},mounted:function(){this.page=1,this.orderlist=[],this.orderlist1=[],this.orderlist2=[],this.myorder()},methods:{onBottom:function(){this.page++,this.myorder()},handserch:function(){var t=this;l["a"].getOrderList({uid:this.userInfor.member_id,search:this.seachdata}).then((function(e){console.log(e,"搜索订单"),t.myorder(1)})).catch((function(){t.vertical=!1})).finally((function(){t.vertical=!1}))},myorder:function(){var t=this;l["a"].getOrderList({uid:this.userInfor.member_id,status:this.navid+1,page:this.page}).then((function(e){t.vertical=!0,1==t.page&&(t.orderlist=e.data,t.orderlist1=e.data,t.orderlist2=e.data),t.page>1&&(t.orderlist=[].concat(Object(r["a"])(t.orderlist),Object(r["a"])(e.data)),t.orderlist1=[].concat(Object(r["a"])(t.orderlist),Object(r["a"])(e.data)),t.orderlist2=[].concat(Object(r["a"])(t.orderlist),Object(r["a"])(e.data))),t.orderlist=t.orderlist.filter((function(t){return 1==t.status})),t.orderlist1=t.orderlist1.filter((function(t){return 2==t.status})),console.log(t.orderlist1,"我的订单"),t.orderlist2=t.orderlist2.filter((function(t){return 3==t.status})),0==e.data.length&&t.$toast("没有更多数据了")})).catch((function(){t.vertical=!1})).finally((function(){t.vertical=!1}))},swichChose:function(t){this.navid=t,this.navactivechoseid=t,this.$store.commit("gonav",this.navactivechoseid),this.page=1,this.orderlist=[],this.orderlist1=[],this.orderlist2=[],this.myorder()},go:function(){this.$router.push({path:"/mine"})}}},b=g,y=(i("0150"),Object(f["a"])(b,a,s,!1,null,"cd1f7f66",null));e["default"]=y.exports}}]);