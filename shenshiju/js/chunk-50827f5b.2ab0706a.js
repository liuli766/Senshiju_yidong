(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50827f5b"],{"2e1b":function(t,n,s){"use strict";s.r(n);var i=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"productdetail"},[s("van-swipe",{on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){},proxy:!0}])},t._l(t.ProDetail.imgs,(function(t,n){return s("van-swipe-item",{key:n},[s("img",{attrs:{src:t,alt:""}})])})),1),s("div",{staticClass:"price"},[s("span",[t._v("¥"+t._s(t.ProDetail.price))]),s("span")]),s("div",{staticClass:"sharebox"},[s("p",{staticClass:"title"},[t._v(t._s(t.ProDetail.title))])]),s("div",{staticClass:"flex_be goods"},[t._m(0),s("div",[t._v("月销："+t._s(t.ProDetail.month_sale))])]),s("div",{staticClass:"views flex_be"},[t._m(1),s("div",[t._v(t._s(t.ProDetail.moods)+"人在逛")])]),s("div",{staticClass:"serves flex_be",on:{click:t.showPopup}},[t._m(2),s("van-icon",{attrs:{name:"arrow"}})],1),s("van-popup",{style:{height:"68%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(n){t.show=n},expression:"show"}},[s("div",{staticClass:"pop"},[s("div",{staticClass:"basics text_cen"},[t._v("基础服务")]),s("van-checkbox-group",{ref:"checkboxGroup",attrs:{disabled:""},on:{change:t.handchange},model:{value:t.result,callback:function(n){t.result=n},expression:"result"}},[s("van-checkbox",{staticClass:"span1",attrs:{name:"a","icon-size":"0.3rem","checked-color":"#000"}},[s("span",[t._v("付款后48小时内发货")])]),s("van-checkbox",{staticClass:"span2",attrs:{name:"b","icon-size":"0.3rem","checked-color":"#000"}},[s("span",[t._v("不支持7天无理由")])]),s("div",{staticClass:"yell"},[t._v("此商品为定制，不支持7天无理由退货")]),s("div",{staticClass:"other text_cen"},[t._v("其他")]),s("van-checkbox",{staticClass:"span3",attrs:{name:"c","icon-size":"0.3rem","checked-color":"#000"}},[s("span",[t._v("信用卡支付")])]),s("van-checkbox",{staticClass:"span4",attrs:{name:"d","icon-size":"0.3rem","checked-color":"#000"}},[s("span",[t._v("支付宝支付")])])],1)],1),s("div",{staticClass:"btn text_cen",on:{click:t.closepanl}},[t._v("完成")])]),s("div",{staticClass:"introduce"},[s("span",[t._v("图纸介绍")]),s("p",[t._v(t._s(t.ProDetail.intro))])]),s("div",{staticClass:"fixed"},[s("van-goods-action",[s("van-goods-action-icon",{staticClass:"size",attrs:{icon:t.icon,text:t.text,color:"#676767"},on:{click:function(n){return t.onClickIcon(t.ProDetail.id)}}}),s("van-goods-action-button",{staticClass:"size",attrs:{type:"warning",text:"加入购物车"},on:{click:t.gocard}}),s("van-goods-action-button",{staticClass:"size danger",attrs:{text:"直接购买"},on:{click:function(n){return t.gosurepay(t.ProDetail.id)}}})],1)],1),s("div",[s("van-popup",{staticStyle:{"border-radius":"0.3rem 0.3rem 0px 0px"},style:{height:"60%"},attrs:{position:"bottom"},model:{value:t.showpop,callback:function(n){t.showpop=n},expression:"showpop"}},[s("div",{staticClass:"cartfff"},[s("div",{staticClass:"cartbox"},[s("div",{staticClass:"cartlist flex"},[s("img",{attrs:{src:t.ProDetail.cover,alt:""}}),s("div",{staticClass:"red"},[t._v("￥"+t._s(t.ProDetail.price))])]),s("div",{staticClass:"flex_be stepper"},[s("span",{staticClass:"num"},[t._v("数量")]),s("div",{staticClass:"flex"},[s("span",{class:[1==t.cunt?"disabled":"squer"],on:{click:function(n){return t.reducecart(t.ProDetail)}}},[t._v("-")]),s("span",{staticClass:"squer squer1",staticStyle:{"font-size":"0.2rem"}},[t._v(t._s(t.cunt))]),s("span",{staticClass:"squer",on:{click:function(n){return t.addcart(t.ProDetail)}}},[t._v("+")])])])]),s("button",{on:{click:function(n){return t.goJoinCart(t.ProDetail.id)}}},[t._v("加入购物车")])])])],1)],1)},e=[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",[t._v(" 发货： "),s("span",[t._v("四川成都")]),t._v(" | 快递： "),s("span",[t._v("免运费")])])},function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("img",{attrs:{src:s("775a"),alt:""}}),i("img",{attrs:{src:s("775a"),alt:""}})])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",[s("span",[t._v("服务")]),s("span",[t._v("付款后48小时内发货")])])}],a=(s("d3b7"),s("5530")),o=s("2f62"),c=s("2ade"),r=s("d399"),l={data:function(){return{current:0,show:!1,result:["a","b","c","d"],text:"收藏",icon:"like-o",showpop:!1,ProDetail:[],cunt:1,cartinfoList:[]}},computed:Object(a["a"])({},Object(o["b"])({token:function(t){return t.token},userInfor:function(t){return t.userInfor}})),created:function(){this.handdetail()},methods:{gosurepay:function(t){if(!this.token)return this.$router.push({path:"/register"}),!1;this.$router.push({path:"/surepayblue",query:{bid:t}})},onChange:function(t){this.current=t},showPopup:function(){this.show=!0,console.log(this.result)},closepanl:function(){this.show=!1},handchange:function(t){console.log(t)},gocard:function(){this.showpop=!0},handdetail:function(){var t=this;this.token?c["a"].getProDetail({uid:this.userInfor.member_id,id:this.$route.query.id}).then((function(n){console.log(n,"图纸详情"),t.ProDetail=n.data})).catch((function(){})).finally((function(){})):c["a"].getProDetail({id:this.$route.query.id}).then((function(n){console.log(n,"图纸详情"),t.ProDetail=n.data})).catch((function(){})).finally((function(){}))},onClickIcon:function(t){var n=this;if(!this.token)return this.$router.push({path:"/register"}),!1;c["a"].getCollect({uid:this.userInfor.member_id,type:1,object:t}).then((function(t){console.log(t),n.handdetail(),n.$toast("收藏成功"),n.text="已收藏",n.icon="like"})).catch((function(t){console.log(t),n.$toast("收藏失败")})).finally((function(){}))},goJoinCart:function(t){if(!this.token)return this.$router.push({path:"/register"}),!1;c["a"].getJoinCart({uid:this.userInfor.member_id,b_id:t,num:this.cunt}).then((function(t){console.log(t,"加入购物车"),r["a"].success("添加成功")})).catch((function(){r["a"].fail("添加失败")})).finally((function(){}))},reducecart:function(t){if(console.log(t),1==this.cunt)return!1;this.cunt--,c["a"].getEditCart({id:t.id,num:this.cunt}).then((function(t){console.log(t,"购物车数量加")})).catch((function(){r["a"].fail("添加失败")})).finally((function(){}))},addcart:function(t){console.log(t),this.cunt++,c["a"].getEditCart({id:t.id,num:this.cunt}).then((function(t){console.log(t,"购物车数量减")})).catch((function(){r["a"].fail("添加失败")})).finally((function(){}))}}},u=l,d=(s("92c3"),s("2877")),h=Object(d["a"])(u,i,e,!1,null,"76ee22e2",null);n["default"]=h.exports},"92c3":function(t,n,s){"use strict";var i=s("cd53"),e=s.n(i);e.a},cd53:function(t,n,s){}}]);
//# sourceMappingURL=chunk-50827f5b.2ab0706a.js.map