(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e511ae94"],{"024a":function(t,e,i){"use strict";var a=i("98e2"),s=i.n(a);s.a},"98e2":function(t,e,i){},e904:function(t,e,i){"use strict";var a=i("eaa8"),s=i.n(a);s.a},eaa8:function(t,e,i){},eee5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"drawingorder"},[i("div",{staticClass:"nav_bar flex"},[i("van-icon",{attrs:{name:"arrow-left"},on:{click:t.go}}),i("span",[t._v("图纸订单")])],1),i("van-search",{attrs:{placeholder:"请输入订单号或商品名称"},on:{change:t.handserch},model:{value:t.seachdata,callback:function(e){t.seachdata=e},expression:"seachdata"}}),i("nav",t._l(t.navlist,(function(e,a){return i("span",{key:a,class:{activ_chose:t.navactivechoseid==a},on:{click:function(e){return t.swichChose(a)}}},[t._v(t._s(e))])})),0),0==t.navactivechoseid||0==t.navid?i("orderlist",{attrs:{orderli:t.orderlist,navid:0}}):t._e(),1==t.navactivechoseid||1==t.navid?i("orderlist",{attrs:{orderli:t.orderlist1,navid:1}}):t._e(),2==t.navactivechoseid||2==t.navid?i("orderlist",{attrs:{orderli:t.orderlist2,navid:2}}):t._e()],1)},s=[],n=(i("4de4"),i("d3b7"),i("5530")),r=i("2f62"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderlist"},[0!==t.orderli.length?i("main",t._l(t.orderli,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.godetail(e,t.navid)}}},[i("div",{staticClass:"tagname flex_be"},[i("span",[t._v(t._s(e.add_time))]),i("span",{directives:[{name:"show",rawName:"v-show",value:0==t.navactivechoseid,expression:"navactivechoseid==0"}],staticStyle:{color:"#FD3723"}},[t._v("待付款")]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.navactivechoseid,expression:"navactivechoseid==1"}],staticStyle:{color:"#FD3723"}},[t._v("待发货")]),i("span",{directives:[{name:"show",rawName:"v-show",value:2==t.navactivechoseid,expression:"navactivechoseid==2"}],staticStyle:{color:"#FD3723"}},[t._v("待收货")])]),i("div",{staticClass:"flex"},[i("img",{attrs:{src:e.cover,alt:""}}),i("div",{staticClass:"right"},[i("p",[t._v(t._s(e.title))]),i("div",{staticClass:"text_r"},[i("van-icon",{attrs:{name:"cross"}}),i("span",[t._v(t._s(e.num))])],1),i("div",[t._v(t._s(e.price))])])]),0==t.navactivechoseid?i("div",{staticClass:"text_r price_pay"},[t._v("共"+t._s(e.num)+"件 待付款:¥"+t._s(e.price))]):1==t.navactivechoseid?i("div",{staticClass:"text_r price_pay"},[t._v("共"+t._s(e.num)+"件 待发货:¥"+t._s(e.price))]):2==t.navactivechoseid?i("div",{staticClass:"text_r price_pay"},[t._v("共"+t._s(e.num)+"件 待收货:¥"+t._s(e.price))]):t._e(),0==t.navactivechoseid?i("div",{staticClass:"bor_red"},[i("span",{staticClass:"text_cen",on:{click:function(i){return i.stopPropagation(),t.canelOrder(e)}}},[t._v("取消订单")]),i("span",{staticClass:"text_cen",on:{click:t.gopay}},[t._v("立即支付")])]):t._e(),1==t.navactivechoseid?i("div",{staticClass:"bor_red"}):t._e(),2==t.navactivechoseid?i("div",{staticClass:"bor_red"},[i("span",{staticClass:"text_cen",on:{click:t.goLogistics}},[t._v("查看物流")])]):t._e()])})),0):i("main",{staticClass:"nodata"},[t._v("暂无数据")])])},c=[],d=(i("a9e3"),i("2ade")),l=i("d399"),v={computed:Object(r["b"])({navactivechoseid:function(t){return t.navactivechoseid},token:function(t){return t.token},userInfor:function(t){return t.userInfor},canelOrderItem:function(t){return t.canelOrderItem}}),props:{orderli:{type:Array,default:function(){return[]}},navid:{type:Number,default:0}},data:function(){return{}},watch:{},created:function(){console.log(this.orderli)},methods:{canelOrder:function(t){var e=this;console.log(t),d["a"].getCancelOrder({oid:t.id}).then((function(t){console.log(t),e.$parent.myorder(),l["a"].success("取消成功")})).catch((function(){l["a"].fail("取消失败")})).finally((function(){}))},godetail:function(t,e){console.log(e),0===e?this.$router.push({path:"/orderpay",query:{oid:t.id}}):1===e?this.$router.push({path:"/productDetail",query:{id:t.b_id}}):2===e&&(console.log(t,"物流信息"),this.$router.push({path:"/logisticsInfo",query:{ordernum:t.order_num,kuaidi:t.logistics_code}}))},goLogistics:function(){this.$router.push({path:"/logisticsInfo"})},gopay:function(){this.$router.push({path:"/logisticsInfo"})}}},u=v,h=(i("e904"),i("2877")),f=Object(h["a"])(u,o,c,!1,null,"23c0bbb8",null),_=f.exports,p={computed:Object(n["a"])({},Object(r["b"])({token:function(t){return t.token},userInfor:function(t){return t.userInfor}})),components:{orderlist:_},data:function(){return{seachdata:"",navlist:["待付款","待发货","待收货"],navid:0,navactivechoseid:0,orderlist:[],orderlist1:[],orderlist2:[]}},watch:{orderlist2:function(){this.swichChose(this.navactivechoseid)},seachdata:function(){this.handserch()}},created:function(){this.navactivechoseid=this.$route.query.navactivechoseid},mounted:function(){0==this.navid?this.myorder(1):1==this.navid?this.myorder(2):2==this.navid?this.myorder(3):3==this.navid&&this.myorder(4)},methods:{handserch:function(){var t=this;d["a"].getOrderList({uid:this.userInfor.member_id,search:this.seachdata}).then((function(e){console.log(e,"搜索订单"),t.myorder(1)})).catch((function(){t.vertical=!1})).finally((function(){t.vertical=!1}))},myorder:function(t){var e=this;d["a"].getOrderList({uid:this.userInfor.member_id,status:t,page:1}).then((function(t){e.vertical=!0,e.orderlist=t.data,e.orderlist1=t.data,e.orderlist2=t.data,e.orderlist=e.orderlist.filter((function(t){return 1==t.status})),e.orderlist1=e.orderlist1.filter((function(t){return 2==t.status})),console.log(e.orderlist1,"我的订单"),e.orderlist2=e.orderlist2.filter((function(t){return 3==t.status}))})).catch((function(){e.vertical=!1})).finally((function(){e.vertical=!1}))},swichChose:function(t){this.navid=t,this.navactivechoseid=t,this.$store.commit("gonav",this.navactivechoseid),0==t?this.myorder(1):1==t?this.myorder(2):2==t?this.myorder(3):3==t&&this.myorder(4)},go:function(){this.$router.push({path:"/mine"})}}},m=p,g=(i("024a"),Object(h["a"])(m,a,s,!1,null,"44c70003",null));e["default"]=g.exports}}]);